<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login / Signup</title>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.6.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.6.0/firebase-auth-compat.js"></script>
<script src="auth.js"></script>

<style>
body { font-family: Arial; padding: 20px; }
input { display: block; margin: 10px 0; padding: 8px; width: 250px; }
button { margin: 5px 0; padding: 8px 12px; }
</style>
</head>
<body>

<h2>Login / Signup</h2>

<div id="login-form">
  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Password">
  <button onclick="signup()">Sign Up</button>
  <button onclick="login()">Login</button>
  <button onclick="googleLogin()">Login with Google</button>
</div>

<div id="reset-form">
  <input type="email" id="reset-email" placeholder="Enter your email for reset">
  <button onclick="resetPassword()">Reset Password</button>
</div>

<script>
  // Redirect to dashboard if already logged in
  auth.onAuthStateChanged(user => {
    if (user && !window.location.href.includes("dashboard.html")) {
      window.location.href = "dashboard.html";
    }
  });

  function signup() {
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    auth.createUserWithEmailAndPassword(email, password)
      .then(() => window.location.href = "dashboard.html")
      .catch(err => alert(err.message));
  }

  function login() {
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    auth.signInWithEmailAndPassword(email, password)
      .then(() => window.location.href = "dashboard.html")
      .catch(err => alert(err.message));
  }
</script>

</body>
</html>